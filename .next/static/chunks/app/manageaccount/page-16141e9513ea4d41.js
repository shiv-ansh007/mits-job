(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{54465:(e,a,t)=>{Promise.resolve().then(t.bind(t,84147))},84147:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var r=t(95155),l=t(12115),s=t(14674),n=t(27058),o=t(14565),d=t(21415),c=t(73996),u=t(48173),i=t.n(u);function g(){let[e,a]=(0,l.useState)({name:"",email:"",resume:"",currentPassword:""}),[t,u]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=s.j.onAuthStateChanged(async e=>{if(e){u(e);let t=(0,n.H9)(s.db,"users",e.uid),r=await (0,n.x7)(t);r.exists()&&a({name:r.data().name,email:r.data().email})}});return()=>e()},[]);let g=t=>{a({...e,[t.target.name]:t.target.value})},m=async a=>{if(a.preventDefault(),!t)return alert("No user logged in.");try{let a=(0,n.H9)(s.db,"users",t.uid);await (0,n.mZ)(a,{name:e.name}),alert("Account details updated successfully!")}catch(e){console.error("Error updating user data:",e),alert("Failed to update account.")}},x=async()=>{try{await (0,o.CI)(s.j),alert("You have been logged out."),window.location.href="/"}catch(e){console.error("Logout Error:",e),alert("Failed to log out.")}},h=async()=>{if(!t)return alert("No user logged in.");if(confirm("Are you sure you want to delete your account? This action cannot be undone."))try{let a=o.IX.credential(t.email,e.currentPassword);await (0,o.kZ)(t,a);let r=(0,n.H9)(s.db,"users",t.uid);await (0,n.kd)(r),await (0,o.hG)(t),alert("Account deleted successfully."),window.location.href="/"}catch(e){console.error("Error deleting account:",e),alert("Failed to delete account. Please log in again and try.")}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.default,{}),(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 p-6 mt-16",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800",children:"Manage Account"}),(0,r.jsx)("p",{className:"text-center text-gray-500 mt-2",children:"Update your profile details or manage your account settings."}),(0,r.jsxs)("form",{onSubmit:m,className:"mt-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700",children:"Full Name"}),(0,r.jsx)("input",{type:"text",name:"name",value:e.name,onChange:g,className:"w-full p-3 border rounded-lg",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700",children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",value:e.email,className:"w-full p-3 border rounded-lg bg-gray-200 cursor-not-allowed",disabled:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700",children:"Upload Resume"}),(0,r.jsx)("input",{type:"file",name:"resume",onChange:t=>{a({...e,resume:t.target.files[0]})},className:"w-full p-2 border rounded-lg"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition",children:"Update Account"})]}),(0,r.jsxs)("div",{className:"mt-8 space-y-4 text-center",children:[(0,r.jsx)(i(),{href:"/changepassword",children:(0,r.jsx)("button",{className:"w-full bg-gray-100 text-blue-600 py-2 px-4 rounded-lg hover:bg-gray-200 transition",children:"Change Password"})}),(0,r.jsx)("button",{onClick:x,className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition",children:"Logout"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700",children:"Enter Password to Confirm Deletion"}),(0,r.jsx)("input",{type:"password",name:"currentPassword",value:e.currentPassword,onChange:g,className:"w-full p-3 border rounded-lg",required:!0})]}),(0,r.jsx)("button",{onClick:h,className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition",children:"Delete Account"})]})]})}),(0,r.jsx)(d.default,{})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,895,714,473,308,178,441,517,358],()=>a(54465)),_N_E=e.O()}]);