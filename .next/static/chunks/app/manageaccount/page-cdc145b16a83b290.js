(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{49904:(e,t,a)=>{"use strict";a.d(t,{Wp:()=>r.Wp});var r=a(51972);(0,r.KO)("firebase","11.4.0","app")},54465:(e,t,a)=>{Promise.resolve().then(a.bind(a,84147))},65192:(e,t,a)=>{"use strict";var r=a(80859);function s(){}function n(){}n.resetWarningCache=s,e.exports=function(){function e(e,t,a,s,n,l){if(l!==r){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:s};return a.PropTypes=a,a}},76046:(e,t,a)=>{"use strict";var r=a(66658);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},80859:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},81996:(e,t,a)=>{e.exports=a(65192)()},84147:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var r=a(95155),s=a(12115),n=a(14674),l=a(27058),o=a(14565),c=a(21415),i=a(73996),u=a(48173),d=a.n(u);function p(){let[e,t]=(0,s.useState)({name:"",email:"",resume:"",currentPassword:""}),[a,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=n.j.onAuthStateChanged(async e=>{if(e){u(e);let a=(0,l.H9)(n.db,"users",e.uid),r=await (0,l.x7)(a);r.exists()&&t({name:r.data().name,email:r.data().email})}});return()=>e()},[]);let p=a=>{t({...e,[a.target.name]:a.target.value})},m=async t=>{if(t.preventDefault(),!a)return alert("No user logged in.");try{let t=(0,l.H9)(n.db,"users",a.uid);await (0,l.mZ)(t,{name:e.name}),alert("Account details updated successfully!")}catch(e){console.error("Error updating user data:",e),alert("Failed to update account.")}},g=async()=>{try{await (0,o.CI)(n.j),alert("You have been logged out."),window.location.href="/"}catch(e){console.error("Logout Error:",e),alert("Failed to log out.")}},h=async()=>{if(!a)return alert("No user logged in.");if(confirm("Are you sure you want to delete your account? This action cannot be undone."))try{let t=o.IX.credential(a.email,e.currentPassword);await (0,o.kZ)(a,t);let r=(0,l.H9)(n.db,"users",a.uid);await (0,l.kd)(r),await (0,o.hG)(a),alert("Account deleted successfully."),window.location.href="/"}catch(e){console.error("Error deleting account:",e),alert("Failed to delete account. Please log in again and try.")}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.default,{}),(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 p-6 mt-16",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800",children:"Manage Account"}),(0,r.jsx)("p",{className:"text-center text-gray-500 mt-2",children:"Update your profile details or manage your account settings."}),(0,r.jsxs)("form",{onSubmit:m,className:"mt-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700",children:"Full Name"}),(0,r.jsx)("input",{type:"text",name:"name",value:e.name,onChange:p,className:"w-full p-3 border rounded-lg",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700",children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",value:e.email,className:"w-full p-3 border rounded-lg bg-gray-200 cursor-not-allowed",disabled:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700",children:"Upload Resume"}),(0,r.jsx)("input",{type:"file",name:"resume",onChange:a=>{t({...e,resume:a.target.files[0]})},className:"w-full p-2 border rounded-lg"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition",children:"Update Account"})]}),(0,r.jsxs)("div",{className:"mt-8 space-y-4 text-center",children:[(0,r.jsx)(d(),{href:"/changepassword",children:(0,r.jsx)("button",{className:"w-full bg-gray-100 text-blue-600 py-2 px-4 rounded-lg hover:bg-gray-200 transition",children:"Change Password"})}),(0,r.jsx)("button",{onClick:g,className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition",children:"Logout"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700",children:"Enter Password to Confirm Deletion"}),(0,r.jsx)("input",{type:"password",name:"currentPassword",value:e.currentPassword,onChange:p,className:"w-full p-3 border rounded-lg",required:!0})]}),(0,r.jsx)("button",{onClick:h,className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition",children:"Delete Account"})]})]})}),(0,r.jsx)(c.default,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,888,714,473,178,441,587,358],()=>t(54465)),_N_E=e.O()}]);